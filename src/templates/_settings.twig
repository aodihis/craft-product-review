{# @var plugin \aodihis\productreview\Plugin #}
{# @var settings \aodihis\productreview\models\Settings #}

{% import '_includes/forms.twig' as forms %}

{% set orderStatues = [ {label: '', value: null}] %}
{% for status in craft.commerce.orderStatuses.allOrderStatuses %}
    {% set orderStatues = orderStatues|merge([
        {label: status.name, value: status.handle}
    ]) %}
{% endfor %}

{{ forms.selectField({
    label: "Order Status to review"|t('product-review'),
    instructions: "Purchased products can be reviewed once the order reaches the following status."|t('product-review'),
    id: 'orderStatusToReview',
    name: 'orderStatusToReview',
    options: orderStatues,
    value: settings.orderStatusToReview,
    errors: settings.getErrors('orderStatusToReview'),
}) }}


{{ forms.textField({
    label: "Maximum days to review (put 0 if you want infinite.)"|t('product-review'),
    instructions: "Maximum days for customer to allow review the product after the order status changed to desired one."|t('product-review'),
    id: 'maxDaysToReview',
    name: 'maxDaysToReview',
    value: settings.maxDaysToReview,
    type: 'number',
    size: 1,
    errors: settings.getErrors('maxDaysToReview'),
}) }}


